/*!
 * angular-google-staticmaps 0.0.1
 * Pascal Hartig, weluse GmbH, http://weluse.de/
 * License: MIT
 */
!function(){"use strict";angular.module("wu.staticGmap",[]).controller("StaticGmapCtrl",function(){var r="//maps.googleapis.com/maps/api/staticmap?",e=["color","label","size"];this.makeMarkerStrings=function(r){return r.map(function(r){var t=Object.keys(r).map(function(t){return e.indexOf(t)>-1?t+":"+r[t]+"|":void 0}).join("");return t+r.coords.join(",")})},this.buildSourceString=function(e,t){var i;t&&(angular.isArray(t)||(t=[t]),i=this.makeMarkerStrings(t));var n=Object.keys(e).map(function(r){return"markers"===r&&i?Object.keys(i).map(function(r){return"markers="+encodeURIComponent(i[r])}).join("&"):"$"!==r[0]&&"alt"!==r?encodeURIComponent(r)+"="+encodeURIComponent(e[r]):void 0});return r+n.reduce(function(r,e){return r?void 0!==e?r+"&"+e:r:e},"")}}).directive("staticGmap",["$parse",function(r){return{template:'<img alt="Google Map">',replace:!0,restrict:"E",controller:"StaticGmapCtrl",scope:!0,link:function(e,t,i,n){var o=t[0],a=r(i.markers)(e);if(!i.sensor)throw new Error("The `sensor` attribute is required.");if(!i.size)throw new Error("The `size` attribute is required.");var s=i.size.split("x");if(2!==s.length)throw new Error("Size must be specified as `wxh`.");o.width=parseInt(s[0],10),o.height=parseInt(s[1],10),o.src=n.buildSourceString(i,a)}}}])}();